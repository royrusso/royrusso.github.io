
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Java and the Lean SaaS Startup - Roy's Blog</title>
  <meta name="author" content="Roy Russo">

  
  <meta name="description" content="I&rsquo;ve had a lot of time on my hands lately. I&rsquo;ve mostly spent it playing with fish tanks, but as of last week, I was all out of fish work &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://royrusso.github.io/blog/2011/03/02/java-and-the-lean-saas-startup">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Roy's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Noto+Serif:400,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Roy's Blog</a></h1>
  
    <h2>On Software and Fish.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  
  
</ul>

<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Java and the Lean SaaS Startup</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-02T17:38:49-05:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2011</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I&rsquo;ve had a lot of time on my hands lately. I&rsquo;ve mostly spent it playing with fish tanks, but as of last week, I was all out of fish work and room for new tanks&hellip; so I started talking to a few Atlanta startups. I basically go in, they hammer me with questions and I do my best to not look stupid. After what I helped build at LoopFuse, you&rsquo;d be hard pressed to find someone in this town that can build something that secure, scalable, fault-tolerant and damn intuitive to use! This isn&rsquo;t San Francisco, and yes, that was an arrogant statement.</p>

<p>There are a few common challenges I see that keep popping-up in the Atlanta Java SaaS startup world. I&rsquo;ll try my best to summarize what I think is the best-of-breed combination of SaaS startup technologies and hopefully arrive at a decent stack. These are common threads I keep seeing, and also tools that I used one of my many SaaS jobs or while I worked at JBoss.</p>

<!-- more -->


<h3>Database</h3>

<p><strong>MySQL:</strong> Let me get this out of the way. I know it has nothing to do with Java, but it&rsquo;s free and near-infinitely scalable in a multi-tenant SaaS environment. If you&rsquo;re a startup, go MySQL. Your first few years in business won&rsquo;t call for OracleDB and you&rsquo;ll just run out of money faster.  Wait for your Series C, where you hire 5 DBAs and have a multi-million-dollar Oracle server running in a bunker, then you go Oracle. I don&rsquo;t believe the future is unclear for MySQL under Oracle control like many others do, but that&rsquo;s a different blog post.</p>

<h3>Application Server</h3>

<p><strong>Tomcat (or JBoss):</strong> Now the decision becomes, which app server to use&hellip; Tomcat or JBoss? JBoss. Although, I have rarely built out a system that required full-fledged JBoss, the pluggable architecture is a nice-to-have for future build-out. Tomcat meets all the requirements for something that is fault-tolerant, high-throughput, scalable, and secure. I&rsquo;m wary of having to &ldquo;plug-in&rdquo; components 2 years down the road in to a stock Tomcat instance, however. Most of the startups I&rsquo;ve visited are deploying on JBoss, and a lot of the reasoning behind it is based on three thoughts:</p>

<ol>
<li><p>Everything in a box: It&rsquo;s like getting those gift baskets with all the cheeses and meats. I hate salami and stinky cheese, but one day, when I&rsquo;m starving, I will certainly eat it, so it&rsquo;s nice that it&rsquo;s included. Since JBoss includes cache/clustering/tomcat/hibernate/messaging as pluggable components, then there is some assurance that it must all work well together.</p></li>
<li><p>Support: JBoss offers &ldquo;Support from the Source&rdquo;. No-brainer here. One day you will need it, and I&rsquo;d rather pay for JBoss support than be at the mercy of an Apache email list.</p></li>
<li><p>Tomcat included: This is obvious&hellip; Tomcat is the servlet engine under the hood. It can be tuned for massive multi-threading/throughput, and complemented with custom Filters and Valves. You will need those customer Filters/Valves if you plan to have any measure of security in your application. It is also the easiest way to prevent against (XSS) Cross-Site-Scripting attacks.</p></li>
</ol>


<p>Why not mention Glassfish? Oracle will cripple it. IBM + Gluecode = Websphere Children&rsquo;s Edition. Expect the same from ORA.</p>

<h3>ORM</h3>

<p><strong>Hibernate: </strong>If you&rsquo;re building your app on some No-SQL/Hadoop/MapReduce thing, good luck to you. For those of you that are building a viable startup, Hibernate is the way to go. Hibernate gives you two things that will impact your startup:</p>

<ol>
<li><p>Object-Relational-Mapping: Removes the need for hand-coding JDBC queries and automagically maps objects to to your schema. This feature alone, will result in faster development cycles, as Hibernate has a low learning curve and is a convenience tool. Hibernate talent is easy to find, so new developers ramp up quickly as well.</p></li>
<li><p>Less Refactoring: Your database schema will likely change 100 times as you build-out your app. Hand-coded JDBC queries are an absolute nightmare to maintain with a schema that is changing. Hibernate gives you the ability to quickly refactor mappings and HQL calls throughout your entire codebase, where JDBC falls flat. ie. It&rsquo;s much easier for a developer to find/refactor usages/properties of a Hibernate object than to run a wildcard search across the JDBC layer of code to find a table-name.</p></li>
</ol>


<p>Pitfall to avoid: Whatever you do, <strong>never ever</strong> allow Hibernate to be your DBA by letting it automatically create and update  your database schema (hbm2ddl.auto flag in your cfg file). Your DB should be designed by someone with experience in building scalable DB architecture, and not a schema-export tool that&rsquo;s reading from an XML file a developer hacked together! Your database WILL BE your central point of failure and your performance bottleneck eventually. Don&rsquo;t make it worse!</p>

<h3>UI</h3>

<p>By all means, you should all go out and use Spring or Struts or JSF or Seam as your foundation for a solid and usable UI.</p>

<p>When you&rsquo;re done swallowing and expelling that line of <strong>crap </strong>that&rsquo;s dished-out at Java conferences, let me welcome you to 2011&hellip;</p>

<p>For a clean dynamic UI, I advocate&hellip; no&hellip; champion&hellip; no&hellip; worship <a href="http://www.sencha.com/products/extjs/">Ext-JS</a>. I developed LoopFuse entirely on Ext-JS&hellip; you can see the ExtJS blog post <a href="http://www.sencha.com/blog/spotlight-ext-js-customers/">here</a>. It was only after I looked at what a competitor was doing with ExtJS that I decided to completely GUT JSF from the system and replace it with a &ldquo;flatter&rdquo; architecture without any MVC. <em>Who the hell does page-turning apps these days anyway? </em>The beauty of it is that redoing the UI in ExtJS was trivial, and the impact to customers with regards to usability was immeasurable!</p>

<p>Lessons learned:</p>

<ol>
<li><p> The flatter the architecture, the easier to maintain/adjust and  ramp-up new talent.</p></li>
<li><p> Separation of disciplines. Would you have the carpenter that installed your front door also lay your plumbing and wire the electrical in your new house? No. So don&rsquo;t have the Java plumber work on your UI. Have a UI guy work on your UI.</p></li>
<li><p> Business layer and DB layer were untouched by the move.</p></li>
<li><p> Page-turning went away.</p></li>
<li><p> JSON was used as the standard communication format between UI  and Java Servlets.</p></li>
<li><p> Those same JSON calls were then leveraged with the help of Jersey to offer a WS API (Killed two birds with one stone.)</p></li>
<li><p> No more cryptic JSF error messages.</p></li>
<li><p> You can actually refresh a page without triggering an action!</p></li>
<li><p> The volume of free ExtJS plugins and components is amazing.</p></li>
<li><p>. ExtJS, even with it&rsquo;s default theme, looks sweet!</p></li>
<li><p>. It&rsquo;s cross-browser compatible.</p></li>
<li><p>. Dynamic flash charts also understand JSON&hellip; double-win!</p></li>
</ol>


<p>Let me qualify why I DON&rsquo;T like the use of MVC frameworks &ndash; <strong>your Java developer should NOT be touching UI code</strong>. I know&hellip; Java developers are the smartest people in the world, but really now, Java guys are generally horrible at building UIs unless they&rsquo;re targeted for other developers. I have never liked MVC frameworks, and I accuse them for being the sole reason that tech like PHP and RoR have grown in adoption with the web crowd compared to Java. A developer hacking at XML for a UI, is just wrong, and the learning curve is steep in some cases.</p>

<p>And so that is all for now. I&rsquo;m sure I&rsquo;ll update the blog soon with some other nuggets of wisdom to share as I spend my time walking about town.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">royrusso</span></span>

      








  


<time datetime="2011-03-02T17:38:49-05:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/java/'>Java</a>, <a class='category' href='/blog/categories/mysql/'>MySQL</a>, <a class='category' href='/blog/categories/open-source-software/'>Open Source Software</a>, <a class='category' href='/blog/categories/saas/'>SaaS</a>, <a class='category' href='/blog/categories/software-architecture/'>Software Architecture</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://royrusso.github.io/blog/2011/03/02/java-and-the-lean-saas-startup/" data-via="" data-counturl="http://royrusso.github.io/blog/2011/03/02/java-and-the-lean-saas-startup/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2011/02/23/new-nano-10g-saltwater-tank/" title="Previous Post: New Nano 10g Saltwater Tank">&laquo; New Nano 10g Saltwater Tank</a>
      
      
        <a class="basic-alignment right" href="/blog/2011/03/10/ot-calculating-gdp-growth/" title="Next Post: OT: Calculating GDP Growth">OT: Calculating GDP Growth &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

  <aside class="sidebar">
   
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:royrusso.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/03/12/debug-maven-test-goal-with-intellij-idea/">Debug Maven Test Goal With Intellij IDEA</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/15/elastichq-elasticsearch-monitoring-management/">ElasticHQ - ElasticSearch Monitoring & Management</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/07/05/jwatch-a-quartz-monitor/">JWatch - a Quartz Monitor</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/04/19/terracotta-quartz-relational-model/">Terracotta Quartz Relational Model</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/04/02/get-all-jobs-with-terracotta-quartz-2-0/">Get All Jobs With Terracotta Quartz 2.0+</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/royrusso">@royrusso</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'royrusso',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>



    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Roy Russo -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script>
  $(document).ready(function() {  
  var stickyNavTop = $('nav').offset().top;  
    
  var stickyNav = function(){  
  var scrollTop = $(window).scrollTop();  
         
  if (scrollTop > stickyNavTop) {   
      $('nav').addClass('sticky');  
  } else {  
      $('nav').removeClass('sticky');   
  }  
  };  
    
  stickyNav();  
    
  $(window).scroll(function() {  
      stickyNav();  
  });  
  });  
</script>


</body>
</html>
